<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CS405 Project 2 — Cube</title>

  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #05070b;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #eee;
    }

    #wrap {
      height: 100vh;
      display: flex;
      overflow: hidden;
    }

    #sidebar {
      width: 340px;
      flex: 0 0 340px;
      box-sizing: border-box;
      padding: 16px;
      border-right: 1px solid #333;
      background: #181818;
      overflow-y: auto;
      z-index: 10;
    }

    #sidebar h1 {
      font-size: 18px;
      margin: 0 0 12px 0;
    }

    #sidebar h2 {
      font-size: 15px;
      margin: 16px 0 8px 0;
    }

    .control { margin-top: 10px; }

    .control label {
      display: block;
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 6px;
    }

    select, input[type="range"], input[type="color"], input[type="file"] {
      width: 100%;
      box-sizing: border-box;
    }

    select { height: 28px; }

    .row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      font-size: 13px;
      font-weight: 600;
      user-select: none;
    }

    .row input[type="checkbox"] {
      width: 16px;
      height: 16px;
      accent-color: #667eea;
    }

    button {
      margin-top: 12px;
      padding: 8px 10px;
      border-radius: 6px;
      border: 1px solid #444;
      background: #222;
      color: #eee;
      cursor: pointer;
    }
    button:hover { background: #2c2c2c; }

    .small {
      font-size: 12px;
      color: #aaa;
      margin-top: 12px;
      line-height: 1.45;
    }

    #status {
      font-size: 12px;
      color: #9ad;
      margin-top: 10px;
      font-weight: 700;
    }

    #fps {
      font-size: 12px;
      color: #cfc;
      margin-top: 6px;
      font-weight: 800;
    }

    #canvas-container {
      flex: 1;
      min-width: 0;
      display: flex;
      align-items: stretch;
      justify-content: center;
      background: #05070b;
    }

    #glcanvas {
      width: 100%;
      height: 100%;
      display: block;
      background: #05070b;
      touch-action: none;
      cursor: grab;
    }
    #glcanvas:active { cursor: grabbing; }

    /* Student NPR hidden by default (shown only when selected) */
    #studentNPRTitle,
    #studentNPRSection {
      display: none;
    }
  </style>
</head>

<body>
  <div id="wrap">
    <aside id="sidebar">
      <h1>Cube Renderer (CS405 Project 2)</h1>

      <h2>Model</h2>

      <div class="control">
        <label for="objFile">Load OBJ (student-implemented loader)</label>
        <input id="objFile" type="file" accept=".obj" />
        <button id="useBuiltinBtn">Use Built-in Cube</button>
      </div>

      <h2>Controls</h2>

      <div class="control">
        <label for="shaderSelect">Shading Model</label>
        <select id="shaderSelect">
          <option value="lambert">Photorealistic / Lambert</option>
          <option value="gooch">Gooch Shading</option>
          <option value="toon">Toon / Cel Shading</option>
          <option value="hatch">Student Method: Cross-Hatching (Procedural)</option>
        </select>
      </div>

      <div class="control" id="goochCoolWrap">
        <label for="coolColor">Gooch Cool Color (Shadow Side)</label>
        <input id="coolColor" type="color" value="#3366cc" />
      </div>

      <div class="control" id="goochWarmWrap">
        <label for="warmColor">Gooch Warm Color (Lit Side)</label>
        <input id="warmColor" type="color" value="#ffcc66" />
      </div>

      <div class="control" id="toonStepsWrap">
        <label for="stepsSlider">Toon Quantization Steps</label>
        <input id="stepsSlider" type="range" min="2" max="8" step="1" value="3" />
      </div>

      <h2>Lines</h2>

      <div class="control">
        <label for="lineMode">Line Source</label>
        <select id="lineMode">
          <option value="0">Disabled</option>
          <option value="1">Object-Space Outline (Flipped Hull)</option>
          <option value="2">Screen-Space Depth Edges</option>
          <option value="3">Screen-Space Normal Edges</option>
        </select>
      </div>

      <div class="control" id="lineThicknessWrap">
        <label for="lineThickness">Line Thickness</label>
        <input id="lineThickness" type="range" min="1" max="5" step="1" value="2" />
      </div>

      <div class="control" id="edgeThresholdWrap">
        <label for="edgeThreshold">Edge Threshold (Screen-Space)</label>
        <input id="edgeThreshold" type="range" min="0.02" max="0.6" step="0.02" value="0.18" />
      </div>

      <button id="resetViewBtn">Reset View</button>

      <div class="row">
        <input id="compareToggle" type="checkbox" />
        <label for="compareToggle" style="margin:0; font-weight:600;">Compare (side-by-side)</label>
      </div>

      <div class="row">
        <input id="wireOverlay" type="checkbox" />
        <label for="wireOverlay" style="margin:0; font-weight:600;">Wire overlay</label>
      </div>

      <div class="row">
        <input id="rotateToggle" type="checkbox" checked />
        <label for="rotateToggle" style="margin:0; font-weight:600;">Rotate</label>
      </div>

      <div id="status">Loading…</div>
      <div id="fps">FPS: —</div>

      <div class="small">
        Mouse: drag to orbit, wheel to zoom.<br />
        Object: <strong>Cube</strong> (or loaded OBJ).
      </div>

      <h2 id="studentNPRTitle">Student NPR</h2>

      <div id="studentNPRSection">
        <div class="control" id="hatchScaleWrap">
          <label for="hatchScale">Hatch Density</label>
          <input id="hatchScale" type="range" min="2" max="30" step="1" value="12" />
        </div>

        <div class="control" id="hatchWidthWrap">
          <label for="hatchWidth">Hatch Line Width</label>
          <input id="hatchWidth" type="range" min="0.02" max="0.25" step="0.01" value="0.10" />
        </div>

        <div class="control" id="hatchStrengthWrap">
          <label for="hatchStrength">Hatch Strength</label>
          <input id="hatchStrength" type="range" min="0" max="1" step="0.02" value="0.75" />
        </div>

        <div class="small">
          Student-designed: Procedural cross-hatching (tri-planar), increases in shadow regions.
        </div>
      </div>
    </aside>

    <main id="canvas-container">
      <canvas id="glcanvas"></canvas>
    </main>
  </div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>
